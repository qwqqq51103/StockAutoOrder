# 信號符號配色更新

## 更新日期
2025-10-23

## 更新內容

為信號指示器面板的符號添加顏色標識，讓用戶一眼就能看出符號與圖表中信號點的對應關係。

---

## 🎨 配色方案

### 完整配色表

| 信號類型 | 符號 | 符號顏色 | 數值顏色 | 圖表點顏色 | 說明 |
|---------|-----|---------|---------|-----------|------|
| **多頭信號** | <span style="color:#EF5350">**▲**</span> | 🔴 紅色 `#EF5350` | 🔴 紅色 `#EF5350` | 🔴 紅色圓點 | 上漲趨勢 |
| **空頭信號** | <span style="color:#26A69A">**▼**</span> | 🟢 綠色 `#26A69A` | 🟢 綠色 `#26A69A` | 🟢 綠色圓點 | 下跌趨勢 |
| **大買單** | <span style="color:#EF5350">**●**</span> | 🔴 紅色 `#EF5350` | 🔴 紅色 `#EF5350` | 🔴 紅色大點 | 大資金買入 |
| **大賣單** | <span style="color:#26A69A">**●**</span> | 🟢 綠色 `#26A69A` | 🟢 綠色 `#26A69A` | 🟢 綠色大點 | 大資金賣出 |
| **買盤失衡** | <span style="color:#FF9800">**↑**</span> | 🟠 橙色 `#FF9800` | 🟠 橙色 `#FF9800` | 🟠 橙色點 | 買方主導 |
| **賣盤失衡** | <span style="color:#9C27B0">**↓**</span> | 🟣 紫色 `#9C27B0` | 🟣 紫色 `#9C27B0` | 🟣 紫色點 | 賣方主導 |

---

## 📊 視覺效果

### 彩色符號顯示

```
┌──────────────────────────────────────────────────────────────────┐
│                    K線圖 (70%) + 成交量 (30%)                    │
│                                                                   │
│         ● ← 大買單 (紅色)                                         │
│       ▲ ← 多頭信號 (紅色)                                         │
│                                    ▼ ← 空頭信號 (綠色)            │
│                                      ● ← 大賣單 (綠色)            │
│                                                                   │
├──────────────────────────────────────────────────────────────────┤
│ 紅色 ▲ 多頭信號 3  │ 綠色 ▼ 空頭信號 1  │ 紅色 ● 大買單 5  │   │
│ 橙色 ↑ 買盤失衡 8  │ 紫色 ↓ 賣盤失衡 4  │ 綠色 ● 大賣單 2  │   │
└──────────────────────────────────────────────────────────────────┘
```

---

## 💡 配色理念

### 1. 顏色一致性
- **符號顏色** = **圖表點顏色**
- 用戶看到面板上的紅色▲，就知道圖表上的紅色點是多頭信號

### 2. 直觀對應
```
面板顯示              圖表顯示
────────            ────────
紅色 ▲ 3個    ←→    K線圖上有3個紅色▲點
綠色 ▼ 1個    ←→    K線圖上有1個綠色▼點
```

### 3. 顏色語義
| 顏色 | 語義 | 使用場景 |
|-----|------|---------|
| 🔴 紅色 | 上漲、買入 | 多頭信號、大買單 |
| 🟢 綠色 | 下跌、賣出 | 空頭信號、大賣單 |
| 🟠 橙色 | 警告、失衡 | 買盤壓力 |
| 🟣 紫色 | 警告、失衡 | 賣盤壓力 |

---

## 🔧 技術實現

### HTML格式渲染

```java
private JPanel createSignalItem(String label, Color color, Font labelFont, Font countFont) {
    // 提取符號和文字（假設格式為 "符號 文字"）
    String[] parts = label.split(" ", 2);
    String symbol = parts[length > 0 ? parts[0] : "";
    String text = parts.length > 1 ? parts[1] : "";
    
    // 將顏色轉換為HTML格式
    String colorHex = String.format("#%02x%02x%02x", 
                                    color.getRed(), 
                                    color.getGreen(), 
                                    color.getBlue());
    
    // 使用HTML給符號上色並加粗
    String htmlLabel = String.format(
        "<html><span style='color:%s; font-weight:bold;'>%s</span> %s</html>", 
        colorHex, symbol, text
    );
    
    JLabel nameLabel = new JLabel(htmlLabel);
    nameLabel.setFont(labelFont);
    nameLabel.setForeground(new Color(80, 80, 80)); // 文字為深灰色
    
    // 數值也使用相同顏色
    JLabel countLabel = new JLabel("0");
    countLabel.setFont(countFont);
    countLabel.setForeground(color); // 與符號同色
    
    panel.add(nameLabel);
    panel.add(countLabel);
    
    return panel;
}
```

### 配色代碼映射

```java
// 多頭信號 - 紅色
createSignalItem("▲ 多頭信號", new Color(239, 83, 80), ...)
// RGB: 239, 83, 80  →  Hex: #EF5350

// 空頭信號 - 綠色
createSignalItem("▼ 空頭信號", new Color(38, 166, 154), ...)
// RGB: 38, 166, 154  →  Hex: #26A69A

// 大買單 - 紅色
createSignalItem("● 大買單", new Color(239, 83, 80), ...)
// RGB: 239, 83, 80  →  Hex: #EF5350

// 大賣單 - 綠色
createSignalItem("● 大賣單", new Color(38, 166, 154), ...)
// RGB: 38, 166, 154  →  Hex: #26A69A

// 買盤失衡 - 橙色
createSignalItem("↑ 買盤失衡", new Color(255, 152, 0), ...)
// RGB: 255, 152, 0  →  Hex: #FF9800

// 賣盤失衡 - 紫色
createSignalItem("↓ 賣盤失衡", new Color(156, 39, 176), ...)
// RGB: 156, 39, 176  →  Hex: #9C27B0
```

---

## 🎯 使用指南

### 1. 快速識別
看到面板顯示：
```
紅色 ▲ 多頭信號 5
```
立即知道：圖表上有5個紅色上三角標記，代表多頭買點。

### 2. 顏色聯想
- 看到 **紅色符號** → 想到上漲/買入 → 關注做多機會
- 看到 **綠色符號** → 想到下跌/賣出 → 關注做空機會
- 看到 **橙色/紫色** → 想到失衡警告 → 注意風險

### 3. 符號形狀提示
- **▲ ▼** (三角形) → 趨勢方向
- **●** (圓形) → 大單事件
- **↑ ↓** (箭頭) → 短期失衡

---

## 🖼️ 實際效果展示

### 示例1：多頭行情
```
┌──────────────────────────────────────────────┐
│ 紅色 ▲ 多頭信號 8  │ 綠色 ▼ 空頭信號 1  │
│ 紅色 ● 大買單 12   │ 綠色 ● 大賣單 2    │
│ 橙色 ↑ 買盤失衡 15 │ 紫色 ↓ 賣盤失衡 3  │
└──────────────────────────────────────────────┘
        ↑                       ↑
    紅色數值多          →    多頭行情明顯
```

### 示例2：空頭行情
```
┌──────────────────────────────────────────────┐
│ 紅色 ▲ 多頭信號 2  │ 綠色 ▼ 空頭信號 9  │
│ 紅色 ● 大買單 3    │ 綠色 ● 大賣單 14   │
│ 橙色 ↑ 買盤失衡 4  │ 紫色 ↓ 賣盤失衡 16 │
└──────────────────────────────────────────────┘
        ↑                       ↑
    綠色/紫色數值多    →    空頭行情明顯
```

### 示例3：震盪行情
```
┌──────────────────────────────────────────────┐
│ 紅色 ▲ 多頭信號 5  │ 綠色 ▼ 空頭信號 4  │
│ 紅色 ● 大買單 8    │ 綠色 ● 大賣單 7    │
│ 橙色 ↑ 買盤失衡 10 │ 紫色 ↓ 賣盤失衡 9  │
└──────────────────────────────────────────────┘
        ↑                       ↑
    紅綠相當            →    震盪整理行情
```

---

## 📋 完整符號清單

### Unicode符號參考

| 符號 | Unicode | 名稱 | 適用場景 |
|-----|---------|------|---------|
| ▲ | U+25B2 | 實心上三角 | 上漲、做多 |
| ▼ | U+25BC | 實心下三角 | 下跌、做空 |
| ● | U+25CF | 實心圓 | 重要事件 |
| ↑ | U+2191 | 上箭頭 | 壓力上升 |
| ↓ | U+2193 | 下箭頭 | 壓力下降 |

### RGB配色參考

| 顏色名 | RGB值 | Hex值 | 用途 |
|-------|-------|-------|------|
| 紅色 | 239, 83, 80 | #EF5350 | 上漲/買入 |
| 綠色 | 38, 166, 154 | #26A69A | 下跌/賣出 |
| 橙色 | 255, 152, 0 | #FF9800 | 買盤失衡 |
| 紫色 | 156, 39, 176 | #9C27B0 | 賣盤失衡 |

---

## ✅ 優勢總結

1. **視覺一致性**: 面板顏色與圖表顏色完全對應
2. **快速識別**: 無需思考即可理解符號含義
3. **專業外觀**: 配色方案符合金融軟件標準
4. **跨平台兼容**: Unicode符號在所有系統都能正常顯示
5. **降低學習成本**: 新用戶可通過顏色快速上手

---

## 🔄 相關更新

- **`MainView.java`** 第4311-4339行: `createSignalItem` 方法添加HTML顏色支持
- **`SIGNAL_INDICATOR_PANEL.md`**: 信號指示器面板完整文檔
- **`VOLUME_AND_COLOR_UPDATE.md`**: K線和成交量配色文檔

---

## 📝 更新歷史

- **2025-10-23**: 
  - 添加符號顏色標識
  - 使用HTML格式實現彩色符號
  - 確保符號顏色與圖表點顏色一致
  - 改用Unicode通用符號避免亂碼

